<% 
const page = 'specialties';
const heading = specialty ? 'Редактирование специальности' : 'Добавление специальности';
const actionButton = `
<a href="/admin/specialties" class="btn btn-secondary">
    <i class="bi bi-arrow-left"></i> Назад
</a>
`;

const body = `
<div class="card">
    <div class="card-body">
        <form action="${action}" method="POST" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="code" class="form-label">Код специальности</label>
                        <input type="text" class="form-control" id="code" name="code" required
                               value="${specialty ? specialty.code : ''}">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="name" class="form-label">Название специальности</label>
                        <input type="text" class="form-control" id="name" name="name" required
                               value="${specialty ? specialty.name : ''}">
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="duration" class="form-label">Срок обучения</label>
                        <input type="text" class="form-control" id="duration" name="duration" required
                               value="${specialty ? specialty.duration : ''}">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="qualification" class="form-label">Квалификация</label>
                        <input type="text" class="form-control" id="qualification" name="qualification" required
                               value="${specialty ? specialty.qualification : ''}">
                    </div>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="description" class="form-label">Описание</label>
                <textarea class="form-control" id="description" name="description" rows="4" required>${specialty ? specialty.description : ''}</textarea>
            </div>
            
            <div class="mb-3">
                <label for="advantages" class="form-label">Преимущества (через точку с запятой)</label>
                <textarea class="form-control" id="advantages" name="advantages" rows="3" required>${specialty ? specialty.advantages : ''}</textarea>
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="specialty_image" class="form-label">Изображение</label>
                        <input type="file" class="form-control" id="specialty_image" name="specialty_image" accept="image/*">
                        ${specialty && specialty.image_url ? `
                        <div class="mt-2">
                            <small class="text-muted">Текущее изображение:</small>
                            <img src="${specialty.image_url}" alt="${specialty.name}" class="img-thumbnail mt-2" style="max-height: 100px;">
                        </div>
                        ` : ''}
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="plan_url" class="form-label">Ссылка на учебный план</label>
                        <input type="text" class="form-control" id="plan_url" name="plan_url"
                               value="${specialty ? specialty.plan_url || '' : ''}">
                    </div>
                </div>
            </div>
            
            <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                <a href="/admin/specialties" class="btn btn-secondary me-md-2">Отмена</a>
                <button type="submit" class="btn btn-primary">Сохранить</button>
            </div>
        </form>
    </div>
</div>
`;
%>

<%- include('_page', { page, heading, actionButton, body }) %>